{"version":3,"sources":["webpack:///./src/assets/fav-icon-active.svg","webpack:///./src/views/favourites/index.vue?7bb4","webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./src/components/ImageCard.vue","webpack:///./src/components/ImageCard.vue?f9ee","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./src/components/ImageCard.vue?46ea","webpack:///./src/assets/fav-icon.svg","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/core-js/modules/es.array.includes.js","webpack:///./src/views/favourites/index.vue","webpack:///./src/views/favourites/index.vue?19f6"],"names":["module","exports","$","notARegExp","requireObjectCoercible","toString","correctIsRegExpLogic","target","proto","forced","includes","searchString","this","indexOf","arguments","length","undefined","_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","isObject","classof","wellKnownSymbol","MATCH","it","isRegExp","class","style","backgroundStyles","url","src","favouritesImage","isFavourite","$emit","alt","label","name","props","methods","render","__scopeId","METHOD_NAME","regexp","error1","error2","$includes","addToUnscopables","el","chunkedDogImages","dogImage","key","displayName","toggleFavourites","hasShowedAll","components","ImageCard","setup","store","currentPage","totalPages","limit","dogFavouriteImages","state","dogsFavourites","favourites","value","handleScroll","window","innerHeight","scrollY","document","body","offsetHeight","dogImagesChunk","slice","addEventListener","removeEventListener","dog","dispatch"],"mappings":"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","file":"js/favourites.ee48a63f.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/fav-icon-active.ffb29170.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=33d018b4&lang=css\"","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~toString(requireObjectCoercible(this))\n      .indexOf(toString(notARegExp(searchString)), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","<template>\n  <div class=\"image-card\" :style=\"backgroundStyles(url)\">\n    <img class=\"add-favourite\"\n         :src=\"favouritesImage(isFavourite)\"\n         @click=\"$emit('toggleFavourites', url)\"\n         alt=\"add to favourite\">\n    <div class=\"image-card-label\" v-if=\"label\">{{label}}</div>\n    <div class=\"foreground-gradient\"></div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'ImageCard',\n  props: ['url', 'isFavourite', 'label'],\n  methods: {\n    backgroundStyles(url) {\n      return {\n        'background-image': `url(${url})`,\n        'background-repeat': 'no-repeat',\n        'background-size': 'cover',\n        'background-position': 'center'\n      }\n    },\n    favouritesImage(isFavourite) {\n      return isFavourite ? require('@/assets/fav-icon-active.svg') : require('@/assets/fav-icon.svg');\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .image-card {\n    position: relative;\n    margin: 10px;\n    overflow: hidden;\n    border-radius: 8px;\n  }\n\n  .add-favourite {\n    position: absolute;\n    left: 25px;\n    top: 25px;\n    cursor: pointer;\n    z-index: 2;\n  }\n\n  .foreground-gradient {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 1;\n    background: linear-gradient(1.26deg, #000000 -5.53%, rgba(0, 0, 0, 0) 54.45%);\n  }\n\n  .image-card-label {\n    position: absolute;\n    bottom: 25px;\n    left: 0;\n    right: 25px;\n    text-align: right;\n    color: white;\n    font-size: 25px;\n    z-index: 3;\n  }\n\n\n</style>","import { render } from \"./ImageCard.vue?vue&type=template&id=0f968f6d&scoped=true\"\nimport script from \"./ImageCard.vue?vue&type=script&lang=js\"\nexport * from \"./ImageCard.vue?vue&type=script&lang=js\"\n\nimport \"./ImageCard.vue?vue&type=style&index=0&id=0f968f6d&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-0f968f6d\"\n\nexport default script","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ImageCard.vue?vue&type=style&index=0&id=0f968f6d&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/fav-icon.9241f016.svg\";","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","<template>\n  <div class=\"grid\">\n    <template v-if=\"chunkedDogImages.length > 0\">\n      <ImageCard\n          v-for=\"dogImage in chunkedDogImages\"\n          :key=\"dogImage.url\"\n          :url=\"dogImage.url\"\n          :label=\"dogImage.displayName\"\n          :isFavourite=\"isFavourite(dogImage)\"\n          @toggleFavourites=\"toggleFavourites(dogImage)\"\n      />\n    </template>\n    <div v-else class=\"no-favorites\">There are no favorites yet</div>\n  </div>\n  <div v-if=\"hasShowedAll\">\n    This is the end\n  </div>\n</template>\n\n<script>\nimport { useStore } from 'vuex'\nimport { onMounted, onBeforeMount, ref, onBeforeUnmount, computed } from 'vue';\nimport ImageCard from '../../components/ImageCard';\n\nexport default {\n  name: 'Favourites',\n  components: {\n    ImageCard\n  },\n  setup() {\n    const store = useStore();\n    const currentPage = ref(0);\n    const totalPages = ref();\n    const limit = 20;\n\n    const dogFavouriteImages = ref(store.state.dogsFavourites.favourites);\n\n    const hasShowedAll = computed(() => {\n      return currentPage.value === totalPages.value\n    });\n\n    const handleScroll = async () => {\n      if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {\n        if (hasShowedAll.value) {\n          return;\n        }\n        const from = currentPage.value * limit;\n        const dogImagesChunk = dogFavouriteImages.value.slice(from, from + limit);\n        dogFavouriteImages.value = [\n          ...dogFavouriteImages.value,\n          ...dogImagesChunk,\n        ];\n      }\n    }\n\n    onMounted(() => {\n      window.addEventListener('scroll', handleScroll)\n    });\n\n    onBeforeUnmount(() => {\n      window.removeEventListener('scroll', handleScroll)\n    });\n\n    onBeforeMount( () => {\n      currentPage.value++\n      totalPages.value = dogFavouriteImages.value.length;\n      dogFavouriteImages.value = dogFavouriteImages.value.slice(0, limit);\n    });\n\n    return {\n      chunkedDogImages: dogFavouriteImages,\n      toggleFavourites: (dog) => store.dispatch('dogsFavourites/toggleFavourites', { dog }),\n      isFavourite: (dog) => store.state.dogsFavourites.favourites.includes(dog),\n      hasShowedAll\n    }\n  }\n}\n</script>\n\n<style>\n.grid {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-auto-rows: 290px;\n}\n\n.no-favorites {\n  text-align: center;\n}\n</style>","import { render } from \"./index.vue?vue&type=template&id=33d018b4\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=33d018b4&lang=css\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}